@echo off
echo Applying cursor fix to key pages...

echo Updating Services main page...
powershell -Command "(Get-Content 'services\index.html' -Raw) -replace '(?s)<!-- Animated Cursor Implementation -->.*?</script>', '	<!-- Advanced Cursor System -->`n	<style>`n		.aenfinite-cursor {`n			position: fixed;`n			top: 0;`n			left: 0;`n			width: 100%%;`n			height: 100%%;`n			pointer-events: none;`n			z-index: 99999;`n			filter: url(\"#goo\");`n		}`n		`n		.aenfinite-cursor span {`n			position: absolute;`n			width: 26px;`n			height: 26px;`n			border-radius: 50%%;`n			background-color: #227bf3;`n			transform: translate(-50%%, -50%%);`n			pointer-events: none;`n		}`n		`n		@media (max-width: 768px) {`n			.aenfinite-cursor {`n				display: none;`n			}`n		}`n	</style>`n`n	<svg style=\"position: fixed; top: -1000px; left: -1000px; width: 0; height: 0;\">`n		<defs>`n			<filter id=\"goo\">`n				<feGaussianBlur in=\"SourceGraphic\" stdDeviation=\"6\" result=\"blur\" />`n				<feColorMatrix in=\"blur\" mode=\"matrix\" values=\"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 19 -9\" result=\"goo\" />`n				<feComposite in=\"SourceGraphic\" in2=\"goo\" operator=\"atop\"/>`n			</filter>`n		</defs>`n	</svg>`n`n	<script>`n		document.addEventListener(''DOMContentLoaded'', function() {`n			function initAdvancedCursor() {`n				if (window.innerWidth <= 768) return;`n				`n				const existingCursors = document.querySelectorAll(''.aenfinite-cursor'');`n				existingCursors.forEach(cursor => cursor.remove());`n				`n				const cursor = document.createElement(''div'');`n				cursor.className = ''aenfinite-cursor'';`n				cursor.id = ''aenfinite-cursor'';`n				`n				for (let i = 0; i < 12; i++) {`n					const span = document.createElement(''span'');`n					cursor.appendChild(span);`n				}`n				`n				document.body.appendChild(cursor);`n				`n				class Dot {`n					constructor(element, delay) {`n						this.element = element;`n						this.delay = delay;`n						this.x = window.innerWidth / 2;`n						this.y = window.innerHeight / 2;`n						this.targetX = this.x;`n						this.targetY = this.y;`n						this.scale = Math.random() * 0.5 + 0.5;`n						this.element.style.transform = `translate(-50%, -50%) scale($${this.scale})`;`n						`n						if (window.gsap && window.gsap.set) {`n							gsap.set(this.element, {scale: this.scale});`n						}`n					}`n					`n					update(mouseX, mouseY) {`n						this.targetX = mouseX;`n						this.targetY = mouseY;`n						`n						const dx = this.targetX - this.x;`n						const dy = this.targetY - this.y;`n						`n						this.x += dx * 0.1;`n						this.y += dy * 0.1;`n						`n						if (window.gsap && window.gsap.set) {`n							gsap.set(this.element, {x: this.x, y: this.y});`n						}`n					}`n					`n					updateIdle(mouseX, mouseY) {`n						this.targetX = mouseX + (Math.sin(Date.now() * 0.001 + this.delay) * 20);`n						this.targetY = mouseY + (Math.cos(Date.now() * 0.001 + this.delay) * 20);`n						`n						const dx = this.targetX - this.x;`n						const dy = this.targetY - this.y;`n						`n						this.x += dx * 0.05;`n						this.y += dy * 0.05;`n						`n						if (window.gsap && window.gsap.set) {`n							gsap.set(this.element, {x: this.x, y: this.y});`n						}`n					}`n				}`n				`n				const spans = cursor.querySelectorAll(''span'');`n				const dots = [];`n				`n				spans.forEach((span, i) => {`n					dots.push(new Dot(span, i * 0.1));`n				});`n				`n				let mouseX = window.innerWidth / 2;`n				let mouseY = window.innerHeight / 2;`n				let lastMoveTime = Date.now();`n				let isIdle = false;`n				`n				document.addEventListener(''mousemove'', (e) => {`n					mouseX = e.clientX;`n					mouseY = e.clientY;`n					lastMoveTime = Date.now();`n					isIdle = false;`n				});`n				`n				function animate() {`n					const now = Date.now();`n					if (now - lastMoveTime > 1000) {`n						isIdle = true;`n					}`n					`n					dots.forEach(dot => {`n						if (isIdle) {`n							dot.updateIdle(mouseX, mouseY);`n						} else {`n							dot.update(mouseX, mouseY);`n						}`n					});`n					`n					requestAnimationFrame(animate);`n				}`n				`n				animate();`n			}`n			`n			initAdvancedCursor();`n		});`n	</script>' | Set-Content 'services\index.html'"

echo âœ… Services page updated!
echo.
echo Manual cursor fix completed for key page.
echo You can now test the cursor on services/index.html
pause
